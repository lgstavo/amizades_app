import{_ as V,r as a,c as p,a as s,w as y,b,d as i,v as n,t as c,e as v,f as R,g as x,u as U,R as C,h as k,o as f,i as P}from"./index-DToKaazj.js";const q={class:"register-container"},I={class:"form-group"},N={class:"form-group"},S={class:"form-group"},_={class:"form-group"},B={key:0,class:"error-message"},E={class:"login-link"},M={__name:"RegisterView",setup(T){const u=a(""),t=a(""),d=a(""),m=a(""),r=a(""),g=k(),w=async()=>{if(r.value="",m.value!==t.value){r.value="As senhas não coincidem.";return}try{await P.post("/api/auth/register",{username:u.value,password:t.value,email:d.value}),alert("Usuário cadastrado com sucesso! Por favor, faça o login."),await g.push("/login")}catch(l){l.response&&l.response.status===409?r.value="Este nome de usuário ou email já está em uso.":(console.error("Falha no Registro: ",l),r.value="Ocorreu um erro durante o cadastro. Tente novamente.")}};return(l,e)=>(f(),p("div",null,[e[12]||(e[12]=s("h1",null,"Página de Cadastro",-1)),s("div",q,[s("form",{class:"register-form",onSubmit:y(w,["prevent"])},[e[10]||(e[10]=s("h2",null,"Registro de Usuário",-1)),s("div",I,[e[4]||(e[4]=s("label",{for:"username"},"Usuário",-1)),i(s("input",{type:"text",id:"username","onUpdate:modelValue":e[0]||(e[0]=o=>u.value=o),required:"",placeholder:"Insira um nome de usuário"},null,512),[[n,u.value]])]),s("div",N,[e[5]||(e[5]=s("label",{for:"email"},"Email",-1)),i(s("input",{type:"email",id:"email","onUpdate:modelValue":e[1]||(e[1]=o=>d.value=o),required:"",placeholder:"Insira um e-mail"},null,512),[[n,d.value]])]),s("div",S,[e[6]||(e[6]=s("label",{for:"password"},"Senha",-1)),i(s("input",{type:"password",id:"password","onUpdate:modelValue":e[2]||(e[2]=o=>t.value=o),required:"",placeholder:"Insira uma senha"},null,512),[[n,t.value]])]),s("div",_,[e[7]||(e[7]=s("label",{for:"confirmPassword"},"Confirmar Senha",-1)),i(s("input",{type:"password",id:"confirmPassword","onUpdate:modelValue":e[3]||(e[3]=o=>m.value=o),required:"",placeholder:"Confirme sua senha"},null,512),[[n,m.value]])]),r.value?(f(),p("p",B,c(r.value),1)):b("",!0),e[11]||(e[11]=s("button",{type:"submit"},"Cadastrar",-1)),s("div",E,[s("p",null,[e[9]||(e[9]=v("Já tem uma conta? ")),R(U(C),{to:"/login"},{default:x(()=>e[8]||(e[8]=[v("Faça Login")])),_:1,__:[8]})])])],32)])]))}},D=V(M,[["__scopeId","data-v-e6af0cd0"]]);export{D as default};
